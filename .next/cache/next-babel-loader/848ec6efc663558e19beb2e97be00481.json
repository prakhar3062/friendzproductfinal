{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Button, Container, Grid, Typography } from '@material-ui/core';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { useRouter } from 'next/router';\nimport { DeleteRequest } from '../../apis/auth-api';\n\nfunction Alert(props) {\n  return __jsx(MuiAlert, _extends({\n    elevation: 6,\n    variant: \"filled\"\n  }, props));\n}\n\nconst useStyles = makeStyles(theme => ({\n  Accordian: {\n    boxShadow: 'none',\n    border: 'none',\n    marginBottom: '0.5rem',\n    position: 'relative',\n    '&::after': {\n      position: 'absolute',\n      width: '100%',\n      height: '1px',\n      background: '#d2d2d2',\n      bottom: '-0.2rem',\n      left: 0,\n      content: '\"\"'\n    },\n    '& .MuiAccordionSummary-content.Mui-expanded': {\n      marginBottom: '0'\n    },\n    '& button': {\n      border: 'solid 1px var(--theme)'\n    }\n  },\n  Flex: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    [theme.breakpoints.down('sm')]: {\n      //   flexDirection: \"column\",\n      alignItems: 'flex-start'\n    }\n  },\n  heading: {\n    fontSize: '1.2rem',\n    [theme.breakpoints.down('sm')]: {\n      fontSize: '1rem'\n    }\n  },\n  desc: {\n    marginBottom: '0.5rem',\n    [theme.breakpoints.down('sm')]: {\n      fontSize: '0.9rem'\n    }\n  },\n  collegeName: {\n    color: '#6d6d6d',\n    fontStyle: 'italic',\n    fontSize: '0.91rem',\n    [theme.breakpoints.down('sm')]: {\n      fontSize: '0.8rem'\n    }\n  },\n  Details: {\n    display: 'grid'\n  }\n}));\nexport default function Accordian({\n  data,\n  isAuthUser\n}) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [snackbar, setsnackbar] = React.useState(false);\n  const [snackbarMsg, setsnackbarMsg] = React.useState('');\n  const [snackbarType, setsnackbarType] = React.useState('success');\n\n  const handleChange = panel => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const router = useRouter();\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleEdit = () => {\n    router.push('/post/request/edit/' + data.id);\n  };\n\n  const handleDelete = () => {\n    DeleteRequest(data, data.id).then(response => {\n      if (response.error) {\n        setsnackbar(true);\n        setsnackbarMsg('There is some error.Please try again later');\n        setsnackbarType('error');\n      } else {\n        setsnackbar(true);\n        setsnackbarMsg('Deleted');\n        setsnackbarType('success');\n        location.reload();\n      }\n    });\n  };\n\n  const handlesnackbar = () => {\n    setsnackbar(!snackbar);\n  };\n\n  const gotoChat = () => {\n    console.log('clicked');\n    router.push('/chat/request/' + data.id);\n  };\n\n  return __jsx(Accordion, {\n    className: classes.Accordian\n  }, __jsx(AccordionSummary, {\n    \"aria-controls\": \"panel1a-content\",\n    id: \"panel1a-header\" // expandIcon={<ExpandMoreIcon />}\n\n  }, __jsx(\"div\", {\n    className: classes.Flex\n  }, __jsx(Snackbar, {\n    open: snackbar,\n    autoHideDuration: 6000,\n    onClose: handlesnackbar\n  }, __jsx(Alert, {\n    onClose: handlesnackbar,\n    severity: snackbarType\n  }, snackbarMsg)), __jsx(Typography, {\n    variant: \"h6\",\n    className: classes.heading\n  }, data.title), !isAuthUser && __jsx(Button, {\n    color: \"primary\",\n    onClick: gotoChat\n  }, \"Chat\"), isAuthUser && __jsx(\"div\", null, __jsx(MoreVertIcon, {\n    \"aria-controls\": \"simple-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleClick\n  }), __jsx(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose\n  }, __jsx(MenuItem, {\n    onClick: handleEdit\n  }, \"Edit\"), __jsx(MenuItem, {\n    onClick: handleDelete\n  }, \"Delete\"))))), __jsx(AccordionDetails, {\n    className: classes.Details\n  }, __jsx(Typography, {\n    className: classes.desc\n  }, data.description), __jsx(Typography, {\n    className: classes.collegeName\n  }, data.university.name)));\n}","map":{"version":3,"sources":["E:/jay/frontend/src/components/Accordian/index.js"],"names":["React","makeStyles","Box","Button","Container","Grid","Typography","Accordion","AccordionSummary","AccordionDetails","ExpandMoreIcon","MoreVertIcon","Menu","MenuItem","Snackbar","MuiAlert","useRouter","DeleteRequest","Alert","props","useStyles","theme","Accordian","boxShadow","border","marginBottom","position","width","height","background","bottom","left","content","Flex","display","justifyContent","alignItems","breakpoints","down","heading","fontSize","desc","collegeName","color","fontStyle","Details","data","isAuthUser","classes","expanded","setExpanded","useState","anchorEl","setAnchorEl","snackbar","setsnackbar","snackbarMsg","setsnackbarMsg","snackbarType","setsnackbarType","handleChange","panel","event","isExpanded","router","handleClick","currentTarget","handleClose","handleEdit","push","id","handleDelete","then","response","error","location","reload","handlesnackbar","gotoChat","console","log","title","Boolean","description","university","name"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Button, Container, Grid, Typography } from '@material-ui/core';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { useRouter } from 'next/router';\nimport { DeleteRequest } from '../../apis/auth-api';\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  Accordian: {\n    boxShadow: 'none',\n    border: 'none',\n    marginBottom: '0.5rem',\n    position: 'relative',\n    '&::after': {\n      position: 'absolute',\n      width: '100%',\n      height: '1px',\n      background: '#d2d2d2',\n      bottom: '-0.2rem',\n      left: 0,\n      content: '\"\"',\n    },\n    '& .MuiAccordionSummary-content.Mui-expanded': {\n      marginBottom: '0',\n    },\n    '& button': {\n      border: 'solid 1px var(--theme)',\n    },\n  },\n  Flex: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    [theme.breakpoints.down('sm')]: {\n      //   flexDirection: \"column\",\n      alignItems: 'flex-start',\n    },\n  },\n  heading: {\n    fontSize: '1.2rem',\n    [theme.breakpoints.down('sm')]: {\n      fontSize: '1rem',\n    },\n  },\n  desc: {\n    marginBottom: '0.5rem',\n    [theme.breakpoints.down('sm')]: {\n      fontSize: '0.9rem',\n    },\n  },\n  collegeName: {\n    color: '#6d6d6d',\n    fontStyle: 'italic',\n    fontSize: '0.91rem',\n    [theme.breakpoints.down('sm')]: {\n      fontSize: '0.8rem',\n    },\n  },\n  Details: {\n    display: 'grid',\n  },\n}));\n\nexport default function Accordian({ data, isAuthUser }) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [snackbar, setsnackbar] = React.useState(false);\n  const [snackbarMsg, setsnackbarMsg] = React.useState('');\n  const [snackbarType, setsnackbarType] = React.useState('success');\n  const handleChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n  const router = useRouter();\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleEdit = () => {\n    router.push('/post/request/edit/' + data.id);\n  };\n  const handleDelete = () => {\n    DeleteRequest(data, data.id).then((response) => {\n      if (response.error) {\n        setsnackbar(true);\n        setsnackbarMsg('There is some error.Please try again later');\n        setsnackbarType('error');\n      } else {\n        setsnackbar(true);\n        setsnackbarMsg('Deleted');\n        setsnackbarType('success');\n        location.reload();\n      }\n    });\n  };\n\n  const handlesnackbar = () => {\n    setsnackbar(!snackbar);\n  };\n\n  const gotoChat = () => {\n    console.log('clicked');\n    router.push('/chat/request/' + data.id);\n  };\n\n  return (\n    <Accordion className={classes.Accordian}>\n      <AccordionSummary\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n        // expandIcon={<ExpandMoreIcon />}\n      >\n        <div className={classes.Flex}>\n          <Snackbar\n            open={snackbar}\n            autoHideDuration={6000}\n            onClose={handlesnackbar}\n          >\n            <Alert onClose={handlesnackbar} severity={snackbarType}>\n              {snackbarMsg}\n            </Alert>\n          </Snackbar>\n          <Typography variant=\"h6\" className={classes.heading}>\n            {data.title}\n          </Typography>\n          {!isAuthUser && (\n            <Button color=\"primary\" onClick={gotoChat}>\n              Chat\n            </Button>\n          )}\n          {isAuthUser && (\n            <div>\n              <MoreVertIcon\n                aria-controls=\"simple-menu\"\n                aria-haspopup=\"true\"\n                onClick={handleClick}\n              ></MoreVertIcon>\n              <Menu\n                id=\"simple-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n              >\n                <MenuItem onClick={handleEdit}>Edit</MenuItem>\n                <MenuItem onClick={handleDelete}>Delete</MenuItem>\n              </Menu>\n            </div>\n          )}\n        </div>\n      </AccordionSummary>\n      <AccordionDetails className={classes.Details}>\n        <Typography className={classes.desc}>{data.description}</Typography>\n        <Typography className={classes.collegeName}>\n          {data.university.name}\n        </Typography>\n        {/* <Typography className={classes.collegeName}>\n          Category - {data.category.name}\n        </Typography>\n        {data.type == 'Rental' && (\n          <Typography className={classes.collegeName}>\n            Rental / per - {data.time_period}\n          </Typography>\n        )} */}\n      </AccordionDetails>\n    </Accordion>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}