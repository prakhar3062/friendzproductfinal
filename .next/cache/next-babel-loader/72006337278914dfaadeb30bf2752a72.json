{"ast":null,"code":"import { getImageLinkFromUID } from '../helpers/file';\nexport default class Dialog {\n  constructor(dialog) {\n    this.id = dialog._id || dialog.id;\n    this.type = dialog.type;\n    this.xmpp_room_jid = dialog.xmpp_room_jid;\n    this.xmpp_type = dialog.type === 3 ? 'chat' : dialog.type ? 'groupchat' : '';\n    this.name = dialog.name;\n    this.photo = Dialog.getAvatarUrl(dialog.photo);\n    this.description = dialog.description;\n    this.destination = dialog.xmpp_room_jid || dialog.room_jid;\n    this.user_id = dialog.user_id;\n    this.admins_ids = dialog.admins_ids;\n    this.occupants_ids = dialog.occupants_ids;\n    this.updated_date = Date.parse(dialog.updated_at) || Date.now();\n    this.last_message_date_sent = dialog.last_message_date_sent || Date.parse(dialog.updated_at) / 1000 || Date.parse(dialog.created_at) / 1000;\n    this.last_message = dialog.last_message || '';\n    this.last_message_id = dialog.last_message_id;\n    this.last_message_user_id = dialog.last_message_user_id;\n    this.unread_messages_count = dialog.unread_messages_count;\n    this.unread_messages_ids = dialog.unread_messages_ids;\n    this.pinned_messages_ids = dialog.pinned_messages_ids;\n  }\n\n  static getAvatarUrl(avatarUID) {\n    return getImageLinkFromUID(avatarUID);\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}