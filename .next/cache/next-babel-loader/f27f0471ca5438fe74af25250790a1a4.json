{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Button, Container, Grid, Typography } from '@material-ui/core';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { useRouter } from 'next/router';\nimport { DeleteRequest } from '../../apis/auth-api';\n\nfunction Alert(props) {\n  return __jsx(MuiAlert, _extends({\n    elevation: 6,\n    variant: \"filled\"\n  }, props));\n}\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    Accordian: {\n      boxShadow: 'none',\n      border: 'none',\n      marginBottom: '0.5rem',\n      position: 'relative',\n      '&::after': {\n        position: 'absolute',\n        width: '100%',\n        height: '1px',\n        background: '#d2d2d2',\n        bottom: '-0.2rem',\n        left: 0,\n        content: '\"\"'\n      },\n      '& .MuiAccordionSummary-content.Mui-expanded': {\n        marginBottom: '0'\n      },\n      '& button': {\n        border: 'solid 1px var(--theme)'\n      }\n    },\n    Flex: _defineProperty({\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      width: '100%'\n    }, theme.breakpoints.down('sm'), {\n      //   flexDirection: \"column\",\n      alignItems: 'flex-start'\n    }),\n    heading: _defineProperty({\n      fontSize: '1.2rem'\n    }, theme.breakpoints.down('sm'), {\n      fontSize: '1rem'\n    }),\n    desc: _defineProperty({\n      marginBottom: '0.5rem'\n    }, theme.breakpoints.down('sm'), {\n      fontSize: '0.9rem'\n    }),\n    collegeName: _defineProperty({\n      color: '#6d6d6d',\n      fontStyle: 'italic',\n      fontSize: '0.91rem'\n    }, theme.breakpoints.down('sm'), {\n      fontSize: '0.8rem'\n    }),\n    Details: {\n      display: 'grid'\n    }\n  };\n});\nexport default function Accordian(_ref) {\n  var data = _ref.data,\n      isAuthUser = _ref.isAuthUser;\n  var classes = useStyles();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      expanded = _React$useState2[0],\n      setExpanded = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      anchorEl = _React$useState4[0],\n      setAnchorEl = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      snackbar = _React$useState6[0],\n      setsnackbar = _React$useState6[1];\n\n  var _React$useState7 = React.useState(''),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      snackbarMsg = _React$useState8[0],\n      setsnackbarMsg = _React$useState8[1];\n\n  var _React$useState9 = React.useState('success'),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      snackbarType = _React$useState10[0],\n      setsnackbarType = _React$useState10[1];\n\n  var handleChange = function handleChange(panel) {\n    return function (event, isExpanded) {\n      setExpanded(isExpanded ? panel : false);\n    };\n  };\n\n  var router = useRouter();\n\n  var handleClick = function handleClick(event) {\n    setAnchorEl(event.currentTarget);\n  };\n\n  var handleClose = function handleClose() {\n    setAnchorEl(null);\n  };\n\n  var handleEdit = function handleEdit() {\n    router.push('/post/request/edit/' + data.id);\n  };\n\n  var handleDelete = function handleDelete() {\n    DeleteRequest(data, data.id).then(function (response) {\n      if (response.error) {\n        setsnackbar(true);\n        setsnackbarMsg('There is some error.Please try again later');\n        setsnackbarType('error');\n      } else {\n        setsnackbar(true);\n        setsnackbarMsg('Deleted');\n        setsnackbarType('success');\n        location.reload();\n      }\n    });\n  };\n\n  var handlesnackbar = function handlesnackbar() {\n    setsnackbar(!snackbar);\n  };\n\n  var gotoChat = function gotoChat() {\n    console.log('clicked');\n    router.push('/chat/request/' + data.id);\n  };\n\n  return __jsx(Accordion, {\n    className: classes.Accordian\n  }, __jsx(AccordionSummary, {\n    \"aria-controls\": \"panel1a-content\",\n    id: \"panel1a-header\" // expandIcon={<ExpandMoreIcon />}\n\n  }, __jsx(\"div\", {\n    className: classes.Flex\n  }, __jsx(Snackbar, {\n    open: snackbar,\n    autoHideDuration: 6000,\n    onClose: handlesnackbar\n  }, __jsx(Alert, {\n    onClose: handlesnackbar,\n    severity: snackbarType\n  }, snackbarMsg)), __jsx(Typography, {\n    variant: \"h6\",\n    className: classes.heading\n  }, data.title), !isAuthUser && __jsx(Button, {\n    color: \"primary\",\n    onClick: gotoChat\n  }, \"Chat\"), isAuthUser && __jsx(\"div\", null, __jsx(MoreVertIcon, {\n    \"aria-controls\": \"simple-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleClick\n  }), __jsx(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose\n  }, __jsx(MenuItem, {\n    onClick: handleEdit\n  }, \"Edit\"), __jsx(MenuItem, {\n    onClick: handleDelete\n  }, \"Delete\"))))), __jsx(AccordionDetails, {\n    className: classes.Details\n  }, __jsx(Typography, {\n    className: classes.desc\n  }, data.description), __jsx(Typography, {\n    className: classes.collegeName\n  }, data.university.name)));\n}","map":null,"metadata":{},"sourceType":"module"}