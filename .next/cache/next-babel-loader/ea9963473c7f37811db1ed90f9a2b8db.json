{"ast":null,"code":"var API_URL = process.env.api_url;\nexport function generalPostRequest(url, data) {\n  return fetch(url, {\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    method: \"post\",\n    body: JSON.stringify(data)\n  }).then(function (response) {\n    if (response.ok) {\n      return response.json();\n    } else {\n      throw Error(\"Request rejected with status \".concat(response.status));\n    }\n  }).then(function (responseData) {\n    console.log(responseData);\n    return responseData;\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n}\nexport function generalGetRequest(url) {\n  return fetch(url).then(function (response) {\n    return response.json();\n  }).then(function (responseData) {\n    console.log(responseData);\n    return responseData;\n  })[\"catch\"](function (error) {\n    return console.log(error);\n  });\n}\nexport function fetchDialogs(user_id, q) {\n  var url = API_URL + \"/dialogs/\" + user_id;\n\n  if (q) {\n    url = url + q;\n  }\n\n  console.log(url);\n  return generalGetRequest(url);\n}\nexport function fetchMessages(dialog_id, q) {\n  var url = API_URL + \"/messages/\" + dialog_id;\n\n  if (q) {\n    url = url + q;\n  }\n\n  console.log(url);\n  return generalGetRequest(url);\n}\nexport function createMessage(data) {\n  var url = API_URL + \"/message\";\n  console.log(url);\n  return generalPostRequest(url, data);\n}\nexport function unreadMsg(user_id) {\n  var url = API_URL + \"/unread-message/\" + user_id;\n  console.log(url);\n  return generalGetRequest(url);\n}\nexport function readAll(dialog_id, user_id) {\n  var url = API_URL + \"/mark-read-dialog/\" + dialog_id + '/' + user_id;\n  console.log(url);\n  return generalGetRequest(url);\n}","map":null,"metadata":{},"sourceType":"module"}