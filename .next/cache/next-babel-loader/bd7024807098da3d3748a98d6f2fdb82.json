{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Layout from \"../Layout\";\nimport { Box, Card, CardContent, TextField, Button, Container, Grid, Typography } from \"@material-ui/core\";\nimport { DropzoneDialog } from \"material-ui-dropzone\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\nimport SubtitlesIcon from \"@material-ui/icons/Subtitles\";\nimport DetailsIcon from \"@material-ui/icons/Details\";\nimport SchoolIcon from \"@material-ui/icons/School\";\nimport EventIcon from '@material-ui/icons/Event';\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport ContactPhoneIcon from '@material-ui/icons/ContactPhone';\nimport LinkIcon from '@material-ui/icons/Link';\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { searchUniversities, searchEventCategories, CreateOrder } from \"../apis/global-api\";\nimport { AddEvent, UpdateEvent } from \"../apis/auth-api\";\nimport CategoryIcon from \"@material-ui/icons/Category\";\nimport PhotoCameraOutlinedIcon from \"@material-ui/icons/PhotoCameraOutlined\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { useDispatch } from \"react-redux\";\nimport { authenticated } from \"../redux/actions/auth\";\nimport { useRouter } from \"next/router\";\nimport { fileToBase64, isPhone } from \"../Utils/helpers\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport AddIcon from '@material-ui/icons/Add';\nimport axios from \"axios\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\n\nfunction Alert(props) {\n  return __jsx(MuiAlert, _extends({\n    elevation: 6,\n    variant: \"filled\"\n  }, props));\n}\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    section: {\n      padding: \"5rem 0\",\n      position: \"relative\",\n      overflow: \"hidden\"\n    },\n    form: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    pdTitle: {\n      marginBottom: \"2rem\"\n    },\n    card: {\n      boxShadow: \"none\",\n      border: \"#ccc solid 1px\",\n      height: \"100%\",\n      background: \"rgba(255, 255, 255, 0.6)\",\n      \"&::before\": {\n        content: '\"\"',\n        background: \"url(/static/images/circleCenter.svg)\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n        top: \"55%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        height: \"540px\",\n        width: \"540px\",\n        position: \"absolute\",\n        zIndex: \"-1\"\n      },\n      \"&::after\": {\n        content: '\"\"',\n        background: \"url(/static/images/circleCenter.svg)\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n        bottom: \"-15rem\",\n        left: \"-25rem\",\n        height: \"50rem\",\n        width: \"50rem\",\n        position: \"absolute\",\n        zIndex: \"-1\"\n      }\n    },\n    cardBody: {\n      padding: \"2rem !important\"\n    },\n    formInput: _defineProperty({\n      marginBottom: \"2rem\",\n      width: \"50%\"\n    }, theme.breakpoints.down(\"sm\"), {\n      width: \"100%\"\n    }),\n    formInputFullWidth: {\n      width: \"100%\"\n    },\n    formInputField: {\n      width: \"80%\",\n      \"& .MuiTextField-root\": {\n        width: \"100%\"\n      }\n    },\n    formInputFieldFull: _defineProperty({}, theme.breakpoints.up(\"sm\"), {\n      width: \"90%\",\n      \"& .MuiTextField-root\": {\n        width: \"100%\"\n      },\n      '& textarea': {\n        width: '100%',\n        border: 'none',\n        borderBottom: 'solid 1px #ccc',\n        height: '100px',\n        background: 'transparent'\n      },\n      '& textarea:focus': {\n        outline: 'none',\n        borderBottom: 'solid 1px var(--theme)'\n      }\n    }),\n    formControl: {\n      width: \"100%\"\n    },\n    Button: {\n      width: \"80%\",\n      height: \"50px\",\n      marginTop: \"1rem\",\n      backgroundColor: \"var(--theme)\",\n      color: \"#fff\",\n      fontSize: \"1rem\",\n      boxShadow: \"none\",\n      maxWidth: \"200px\"\n    },\n    Images: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      \"& img\": {\n        width: \"125px\",\n        height: \"125px\",\n        objectFit: \"contain\",\n        marginRight: \"10px\",\n        marginBottom: \"10px\",\n        border: \"solid 1px #333 \"\n      },\n      \"& video\": {\n        width: \"125px\",\n        height: \"125px\",\n        objectFit: \"contain\",\n        marginRight: \"10px\",\n        marginBottom: \"10px\",\n        border: \"solid 1px #333 \"\n      }\n    },\n    AddBtn: {\n      border: \"solid 1px #333\",\n      width: \"125px\",\n      height: \"125px\",\n      display: \"grid\"\n    },\n    dialogeCustom: {\n      \"& .MuiGrid-spacing-xs-8\": {\n        width: \"100%\",\n        margin: \"0\"\n      }\n    }\n  };\n});\nexport default function NewEvent(_ref) {\n  var user = _ref.user,\n      _ref$formtype = _ref.formtype,\n      formtype = _ref$formtype === void 0 ? \"add\" : _ref$formtype,\n      _ref$event = _ref.event,\n      event = _ref$event === void 0 ? {} : _ref$event;\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var _useState2 = useState([]),\n      files = _useState2[0],\n      setfiles = _useState2[1];\n\n  var _useState3 = useState([]),\n      filesInfo = _useState3[0],\n      setfilesInfo = _useState3[1];\n\n  var _useState4 = useState(event.title),\n      title = _useState4[0],\n      settitle = _useState4[1];\n\n  var _useState5 = useState(event.description),\n      description = _useState5[0],\n      setdescription = _useState5[1];\n\n  var _useState6 = useState(event.promo_code),\n      promo_code = _useState6[0],\n      setpromo_code = _useState6[1];\n\n  var _useState7 = useState(event.price),\n      price = _useState7[0],\n      setprice = _useState7[1];\n\n  var _useState8 = useState(event.event_date),\n      eventDate = _useState8[0],\n      seteventdate = _useState8[1];\n\n  var _useState9 = useState(event.event_time),\n      eventTime = _useState9[0],\n      seteventtime = _useState9[1];\n\n  var _useState10 = useState(event.contact_number),\n      contact = _useState10[0],\n      setcontact = _useState10[1];\n\n  var _useState11 = useState(event.book_event_link),\n      bookLink = _useState11[0],\n      setbooklink = _useState11[1];\n\n  var _useState12 = useState(event.visit_website_link),\n      visitLink = _useState12[0],\n      setvisitlink = _useState12[1];\n\n  var _useState13 = useState([{\n    text: event.social_profiles ? event.social_profiles.text : \"\",\n    link: event.social_profiles ? event.social_profiles.link : \"\"\n  }]),\n      socialLinks = _useState13[0],\n      setsociallinks = _useState13[1];\n\n  var _useState14 = useState({\n    name: event.university ? event.university.name : \"\",\n    id: event.university ? event.university.id : \"\"\n  }),\n      university = _useState14[0],\n      setuniversity = _useState14[1];\n\n  var _useState15 = useState({\n    name: event.category ? event.category.name : \"\",\n    id: event.category ? event.category.id : \"\"\n  }),\n      category = _useState15[0],\n      setcategory = _useState15[1];\n\n  var _useState16 = useState({}),\n      errs = _useState16[0],\n      seterrs = _useState16[1];\n\n  var _useState17 = useState(event.university ? [{\n    name: event.university.name,\n    id: event.university.id\n  }] : []),\n      universities = _useState17[0],\n      setuniversities = _useState17[1];\n\n  var _useState18 = useState(event.category ? [{\n    name: event.category.name,\n    id: event.category.id\n  }] : []),\n      categories = _useState18[0],\n      setcategories = _useState18[1];\n\n  var _useState19 = useState(0),\n      promoCodeDicount = _useState19[0],\n      setpromoCodeDicount = _useState19[1];\n\n  var _useState20 = useState(false),\n      loading = _useState20[0],\n      setloading = _useState20[1];\n\n  var _useState21 = useState(false),\n      loadingUni = _useState21[0],\n      setloadingUni = _useState21[1];\n\n  var _useState22 = useState(false),\n      backdrop = _useState22[0],\n      setbackdrop = _useState22[1];\n\n  var _useState23 = useState([]),\n      formerrs = _useState23[0],\n      setformerrs = _useState23[1];\n\n  var _useState24 = useState({}),\n      eventData = _useState24[0],\n      seteventData = _useState24[1];\n\n  var dispatch = useDispatch();\n  var router = useRouter();\n\n  var _useState25 = useState(false),\n      snackbar = _useState25[0],\n      setsnackbar = _useState25[1];\n\n  var _useState26 = useState(\"\"),\n      snackbarMsg = _useState26[0],\n      setsnackbarMsg = _useState26[1];\n\n  var _useState27 = useState(\"success\"),\n      snackbarType = _useState27[0],\n      setsnackbarType = _useState27[1];\n\n  useEffect(function () {\n    // let eventd = {\n    //   id: 2,\n    //   event_price: 100\n    // }\n    // paymentHandler(eventd)\n    // return\n    addFields();\n\n    if (event.images) {\n      var updatedImages = [];\n      var updatedImagesInfo = [];\n      event.images.map(function (fileData, index) {\n        updatedImages = updatedImages.concat(fileData.base64_data);\n        updatedImagesInfo = updatedImagesInfo.concat({\n          type: fileData.type,\n          data: fileData.link\n        });\n\n        if (index + 1 == event.images.length) {\n          setfiles(updatedImages);\n          setfilesInfo(updatedImagesInfo);\n        }\n      });\n    }\n\n    if (event.social_profiles) {\n      var sp = [];\n      event.social_profiles.map(function (item, index) {\n        sp = sp.concat({\n          text: item.text,\n          link: item.link\n        });\n\n        if (index + 1 == event.social_profiles.length) {\n          setsociallinks(sp);\n        }\n      });\n    }\n  }, [event]);\n\n  var handleInputChange = function handleInputChange(e, index) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n\n    var list = _toConsumableArray(socialLinks);\n\n    list[index][name] = value;\n    setsociallinks(list);\n  };\n\n  var addFields = function addFields() {\n    if (socialLinks.length < 5) {\n      for (var i = 0; i < 5; i++) {\n        setsociallinks([].concat(_toConsumableArray(socialLinks), [{\n          text: \"\",\n          link: \"\"\n        }]));\n      }\n    }\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var handleSave = function handleSave(filesArr) {\n    var count = 0;\n    filesArr.map(function (file, index) {\n      count++;\n      var reader = new FileReader();\n      var filesArr = files;\n      var filesInfoArr = filesInfo;\n\n      reader.onload = function (event) {\n        console.log(\"testfile\", index, filesArr, filesArr); //store result into your state array.\n\n        filesArr[index] = event.target.result;\n        filesInfoArr[index] = {\n          type: file[\"type\"].split(\"/\")[0],\n          data: event.target.result\n        }; // let updatedImages = ();\n        // let updatedImagesInfo = ();\n\n        setfiles(filesArr);\n        setfilesInfo(filesInfoArr);\n\n        if (count == filesArr.length) {\n          setOpen(false);\n        }\n      };\n\n      reader.readAsDataURL(file);\n    });\n  };\n\n  var handleOpen = function handleOpen() {\n    setOpen(true);\n  };\n\n  var updateformData = function updateformData(e, type) {\n    e.preventDefault();\n    eval(\"set\" + type + \"('\" + e.target.value + \"')\");\n  };\n\n  var handleUniSearch = function handleUniSearch(e) {\n    var value = e ? e.target.value : \"\";\n    if (!value) return;\n    setloadingUni(true);\n    searchUniversities(value).then(function (response) {\n      setloadingUni(false);\n      setuniversities(response);\n    });\n  };\n\n  var handleCatSearch = function handleCatSearch(e) {\n    var value = e ? e.target.value : \"\";\n    if (!value) return;\n    setloading(true);\n    searchEventCategories(value).then(function (response) {\n      setloading(false);\n      setcategories(response.data);\n    });\n  };\n\n  var checkValidation = function checkValidation() {\n    setformerrs(\"\");\n\n    if (!title || !description || !price || !university.name || !category.name || !eventDate || !eventTime || !contact || !bookLink || !visitLink) {\n      setformerrs([\"All fields are required\"]);\n      return false;\n    }\n\n    if (!files.length) {\n      setformerrs([\"Images are required\"]);\n      return false;\n    }\n\n    if (!isPhone(contact)) {\n      setformerrs([\"Contact number is not valid.Please enter 10 digit number\"]);\n      return false;\n    }\n\n    return true;\n  };\n\n  var handleSubmit = function handleSubmit(e, uploaded_files) {\n    e && e.preventDefault();\n    var is_valid = checkValidation();\n\n    if (!is_valid) {\n      return;\n    }\n\n    setbackdrop(true);\n    var university_id = universities.find(function (item) {\n      return item.name == university.name;\n    });\n    var category_id = categories.find(function (item) {\n      return item.name == category.name;\n    });\n    var data = {\n      title: title,\n      description: description,\n      price: price,\n      university_id: university_id.id,\n      category_id: category_id.id,\n      event_date: eventDate,\n      event_time: eventTime,\n      contact_number: contact,\n      book_event_link: bookLink,\n      visit_website_link: visitLink,\n      social_profiles: socialLinks,\n      files: files,\n      seller_id: user.id,\n      active: event ? event.active : event.event_price > 0 ? false : true,\n      promo_code: promo_code\n    };\n    event = event ? event : eventData;\n\n    if (formtype == \"edit\" && event.id) {\n      UpdateEvent(data, event.id).then(function (response) {\n        if (response.error) {\n          setbackdrop(false);\n          setformerrs(response.msg);\n        } else {\n          if (event.event_price > 0 && !event.order_id) {\n            paymentHandler(response.body.event);\n          } else {\n            router.push(\"/profile/events\");\n          }\n        }\n      });\n    } else {\n      AddEvent(data).then(function (response) {\n        if (response.error) {\n          setbackdrop(false);\n          setformerrs(response.msg);\n        } else if (response.body && response.body.event) {\n          seteventData(response.body.event);\n\n          if (response.body.event.event_price > 0) {\n            paymentHandler(response.body.event, response.body.promo_code);\n          } else {\n            router.push(\"/profile/events\");\n          }\n        } else {\n          alert('there was some problem while, saving try it later');\n        }\n      });\n    }\n  };\n\n  var removeImage = function removeImage(index) {\n    var filterFiles = files.filter(function (file, i) {\n      return i !== index;\n    });\n    var filterFilesInfo = filesInfo.filter(function (file, i) {\n      return i !== index;\n    });\n    setfilesInfo(filterFilesInfo);\n    setfiles(filterFiles);\n  };\n\n  var handlesnackbar = function handlesnackbar() {\n    setsnackbar(!snackbar);\n  };\n\n  var paymentHandler = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event, promoCodeDetail) {\n      var APP_URL, receipt_id, event_price, promo_code_id, discount, orderUrl, response, data, options, rzp1;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!event) {\n                setsnackbar(true);\n                setsnackbarMsg(\"Event not valid\");\n                setsnackbarType(\"error\");\n              }\n\n              APP_URL = process.env.APP_URL + '/';\n              receipt_id = 'receipt_event' + event.id;\n              event_price = event.event_price * 100;\n              promo_code_id = 0;\n\n              if (promoCodeDetail != '') {\n                discount = event_price * promoCodeDetail.amount / 100;\n                event_price = event_price - discount;\n                promo_code_id = promoCodeDetail.id;\n              } // e.preventDefault();\n\n\n              orderUrl = \"\".concat(APP_URL, \"order/\").concat(event_price, \"/\").concat(receipt_id); // return\n\n              _context2.next = 9;\n              return axios.get(orderUrl);\n\n            case 9:\n              response = _context2.sent;\n              data = response.data;\n              options = {\n                key: process.env.RAZOR_PAY_KEY_ID,\n                name: \"App\",\n                description: \"App description\",\n                order_id: data.id,\n                // modal:{\n                //   escape:false\n                // },\n                handler: function () {\n                  var _handler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(response) {\n                    var paymentId, url, captureResponse, resp, _data;\n\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.prev = 0;\n                            paymentId = response.razorpay_payment_id;\n                            url = \"\".concat(APP_URL, \"capture/\").concat(paymentId, \"/\").concat(event_price);\n                            console.log(url);\n                            _context.next = 6;\n                            return axios.post(url, {});\n\n                          case 6:\n                            captureResponse = _context.sent;\n                            console.log(captureResponse.data);\n                            resp = JSON.parse(captureResponse.data);\n                            _data = {\n                              'reciept_id': receipt_id,\n                              'rzp_transaction_id': resp.id,\n                              'rzp_order_id': resp.order_id,\n                              'status': resp.status,\n                              'price': resp.amount / 100,\n                              'user_id': user.id,\n                              'type': 'event',\n                              'event_id': event.id,\n                              'promo_code_id': promo_code_id\n                            };\n                            CreateOrder(_data).then(function (response) {\n                              // console.log(response)\n                              if (response.error) {\n                                setbackdrop(false);\n                                setformerrs(response.msg);\n                              } else {\n                                router.push(\"/profile/events\");\n                              }\n                            });\n                            _context.next = 17;\n                            break;\n\n                          case 13:\n                            _context.prev = 13;\n                            _context.t0 = _context[\"catch\"](0);\n                            console.log(_context.t0);\n                            alert('Oops !! There was some error while processing.Dont panic, just contact admin in case in case of emergency ');\n\n                          case 17:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, null, [[0, 13]]);\n                  }));\n\n                  function handler(_x3) {\n                    return _handler.apply(this, arguments);\n                  }\n\n                  return handler;\n                }(),\n                \"modal\": {\n                  \"ondismiss\": function ondismiss() {\n                    setbackdrop(false);\n                    setsnackbar(true);\n                    setsnackbarMsg(\"You have dismissed payment.Event will be in inactive mode until you enable it\");\n                    setsnackbarType(\"error\");\n                    console.log('dismissed');\n                  }\n                } // theme: {\n                //   color: \"#686CFD\",\n                // },\n\n              };\n              rzp1 = new window.Razorpay(options);\n              rzp1.open();\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function paymentHandler(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var showPayButton = function showPayButton() {\n    var ev = event ? event : eventData;\n\n    if (ev.id && ev.event_price && ev.event_price > 0 && !ev.order_id) {\n      return __jsx(Button, {\n        onClick: function onClick() {\n          return paymentHandler(ev);\n        },\n        variant: \"secondary\",\n        className: classes.Button\n      }, \"Pay Now\");\n    }\n\n    return null;\n  };\n\n  return __jsx(Layout, null, __jsx(\"section\", {\n    className: classes.section\n  }, backdrop && __jsx(Backdrop, {\n    className: classes.backdrop,\n    open: backdrop // onClick={handleClose}\n\n  }, __jsx(CircularProgress, {\n    color: \"inherit\"\n  })), __jsx(Snackbar, {\n    open: snackbar,\n    autoHideDuration: 6000,\n    onClose: handlesnackbar\n  }, __jsx(Alert, {\n    onClose: handlesnackbar,\n    severity: snackbarType\n  }, snackbarMsg)), __jsx(Container, {\n    maxWidth: \"xl\"\n  }, __jsx(Grid, {\n    container: true\n  }, __jsx(Grid, {\n    item: true,\n    lg: 9,\n    md: 9,\n    sm: 8,\n    xs: 12,\n    style: {\n      margin: \"auto\"\n    }\n  }, __jsx(Card, {\n    className: classes.card\n  }, __jsx(CardContent, {\n    className: classes.cardBody\n  }, __jsx(Typography, {\n    variant: \"h4\",\n    style: {\n      marginBottom: \"1rem\"\n    }\n  }, formtype == \"add\" ? \"Add\" : \"Edit\", \" Event Details\"), __jsx(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    autoComplete: \"off\",\n    onSubmit: handleSubmit\n  }, __jsx(\"div\", {\n    className: classes.formInput\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\"\n  }, __jsx(Grid, {\n    item: true\n  }, __jsx(SubtitlesIcon, null)), __jsx(Grid, {\n    item: true,\n    className: classes.formInputField\n  }, __jsx(TextField, {\n    id: \"fname\",\n    label: \"Title\",\n    value: title,\n    onChange: function onChange(e) {\n      return updateformData(e, \"title\");\n    }\n  })))), __jsx(\"div\", {\n    className: classes.formInput\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\"\n  }, __jsx(Grid, {\n    item: true\n  }, __jsx(LocalOfferIcon, null)), __jsx(Grid, {\n    item: true,\n    className: classes.formInputField\n  }, __jsx(TextField, {\n    id: \"lname\",\n    label: \"Price\",\n    value: price,\n    type: \"number\",\n    onChange: function onChange(e) {\n      return updateformData(e, \"price\");\n    }\n  })))), __jsx(\"div\", {\n    className: classes.formInput\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\"\n  }, __jsx(Grid, {\n    item: true\n  }, __jsx(EventIcon, null)), __jsx(Grid, {\n    item: true,\n    className: classes.formInputField\n  }, __jsx(TextField, {\n    id: \"eventDate\",\n    label: \"\",\n    value: eventDate,\n    type: \"date\",\n    onChange: function onChange(e) {\n      return updateformData(e, \"eventdate\");\n    }\n  })))), __jsx(\"div\", {\n    className: classes.formInput\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\"\n  }, __jsx(Grid, {\n    item: true\n  }, __jsx(ScheduleIcon, null)), __jsx(Grid, {\n    item: true,\n    className: classes.formInputField\n  }, __jsx(TextField, {\n    id: \"eventTime\",\n    label: \"\",\n    value: eventTime,\n    type: \"time\",\n    onChange: function onChange(e) {\n      return updateformData(e, \"eventtime\");\n    }\n  })))), __jsx(\"div\", {\n    className: classes.formInput\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\"\n  }, __jsx(Grid, {\n    item: true\n  }, __jsx(CategoryIcon, null)), __jsx(Grid, {\n    item: true,\n    className: classes.formInputField\n  }, __jsx(Autocomplete, {\n    required: true,\n    options: categories,\n    getOptionLabel: function getOptionLabel(option) {\n      return option.name;\n    },\n    getOptionSelected: function getOptionSelected(option, value) {\n      return option.name === value.name;\n    },\n    loading: loading,\n    value: category,\n    onInputChange: handleCatSearch // onChange={(e) => updateformData(e, \"university\")}\n    ,\n    onSelect: function onSelect(e) {\n      return setcategory({\n        name: e.target.value\n      });\n    },\n    renderInput: function renderInput(params) {\n      return __jsx(TextField, _extends({}, params, {\n        label: \"Search Categories\",\n        InputProps: _objectSpread(_objectSpread({}, params.InputProps), {}, {\n          endAdornment: __jsx(React.Fragment, null, loading ? __jsx(CircularProgress, {\n            color: \"primary\",\n            size: 20\n          }) : null, params.InputProps.endAdornment)\n        })\n      }));\n    }\n  }), errs[\"category\"] && __jsx(Typography, {\n    color: \"error\"\n  }, \"Please select a category.\")))), __jsx(\"div\", {\n    className: classes.formInput\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\"\n  }, __jsx(Grid, {\n    item: true\n  }, __jsx(ContactPhoneIcon, null)), __jsx(Grid, {\n    item: true,\n    className: classes.formInputField\n  }, __jsx(TextField, {\n    id: \"contact\",\n    label: \"Contact Number\",\n    value: contact,\n    type: \"number\",\n    onChange: function onChange(e) {\n      return updateformData(e, \"contact\");\n    }\n  })))), __jsx(\"div\", {\n    className: classes.formInput\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\"\n  }, __jsx(Grid, {\n    item: true\n  }, __jsx(LinkIcon, null)), __jsx(Grid, {\n    item: true,\n    className: classes.formInputField\n  }, __jsx(TextField, {\n    id: \"bookLink\",\n    label: \"Book Event Link\",\n    value: bookLink,\n    type: \"text\",\n    onChange: function onChange(e) {\n      return updateformData(e, \"booklink\");\n    }\n  })))), __jsx(\"div\", {\n    className: classes.formInput\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\"\n  }, __jsx(Grid, {\n    item: true\n  }, __jsx(LinkIcon, null)), __jsx(Grid, {\n    item: true,\n    className: classes.formInputField\n  }, __jsx(TextField, {\n    id: \"visitLink\",\n    label: \"Visit Website Link\",\n    value: visitLink,\n    type: \"text\",\n    onChange: function onChange(e) {\n      return updateformData(e, \"visitlink\");\n    }\n  })))), __jsx(\"div\", {\n    className: \"\".concat(classes.formInput, \" \").concat(classes.formInputFullWidth)\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\"\n  }, __jsx(Grid, {\n    item: true\n  }, __jsx(SchoolIcon, null)), __jsx(Grid, {\n    item: true,\n    className: classes.formInputField\n  }, __jsx(Autocomplete, {\n    required: true,\n    options: universities,\n    getOptionLabel: function getOptionLabel(option) {\n      return option.name;\n    },\n    getOptionSelected: function getOptionSelected(option, value) {\n      return option.name === value.name;\n    },\n    loading: loadingUni,\n    value: university,\n    onInputChange: handleUniSearch // onChange={(e) => updateformData(e, \"university\")}\n    ,\n    onSelect: function onSelect(e) {\n      return setuniversity({\n        name: e.target.value\n      });\n    },\n    renderInput: function renderInput(params) {\n      return __jsx(TextField, _extends({}, params, {\n        label: \"Search College\",\n        InputProps: _objectSpread(_objectSpread({}, params.InputProps), {}, {\n          endAdornment: __jsx(React.Fragment, null, loadingUni ? __jsx(CircularProgress, {\n            color: \"primary\",\n            size: 20\n          }) : null, params.InputProps.endAdornment)\n        })\n      }));\n    }\n  }), errs[\"university\"] && __jsx(Typography, {\n    color: \"error\"\n  }, \"Please select a university.\")))), __jsx(\"div\", {\n    className: \"\".concat(classes.formInput, \" \").concat(classes.formInputFullWidth)\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\"\n  }, __jsx(Grid, {\n    item: true\n  }, __jsx(DetailsIcon, null)), __jsx(Grid, {\n    item: true,\n    className: \"\".concat(classes.formInputField, \" \").concat(classes.formInputFieldFull)\n  }, __jsx(\"textarea\", {\n    id: \"about\",\n    label: \"Description\",\n    value: description,\n    placeholder: \"Description\",\n    onChange: function onChange(e) {\n      return updateformData(e, \"description\");\n    }\n  })))), formtype == \"add\" ? __jsx(\"div\", {\n    className: \"\".concat(classes.formInput, \" \").concat(classes.formInputFullWidth)\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\"\n  }, __jsx(Grid, {\n    item: true\n  }, __jsx(DetailsIcon, null)), __jsx(Grid, {\n    item: true,\n    className: \"\".concat(classes.formInputField, \" \").concat(classes.formInputFieldFull)\n  }, __jsx(TextField, {\n    id: \"about\",\n    label: \"Promo Code\",\n    value: promo_code,\n    placeholder: \"Promo Code\",\n    onChange: function onChange(e) {\n      return updateformData(e, \"promo_code\");\n    }\n  })))) : \"\", __jsx(\"div\", {\n    className: \"\".concat(classes.formInput, \" \").concat(classes.formInputFullWidth, \" \")\n  }, __jsx(Typography, {\n    variant: \"h6\",\n    style: {\n      marginBottom: \"1rem\"\n    }\n  }, formtype == \"add\" ? \"Add\" : \"Edit\", \" Media\"), __jsx(\"div\", {\n    className: classes.Images\n  }, filesInfo.length > 0 && filesInfo.map(function (file, index) {\n    return __jsx(\"div\", {\n      key: index\n    }, file.type == \"image\" && __jsx(\"img\", {\n      src: file.data\n    }), file.type == \"video\" && __jsx(\"video\", {\n      src: file.data,\n      controls: true\n    }), __jsx(DeleteIcon, {\n      onClick: function onClick() {\n        return removeImage(index);\n      }\n    }));\n  } // <ProductMedia\n  //   file={file}\n  //   key={`img${index}`}\n  //   index={index}\n  //   removeFile={() => removeImage(index)}\n  // />\n  // <img src={file.data} key={`img${index}`} />\n  ), __jsx(Button, {\n    onClick: handleOpen.bind(this),\n    className: classes.AddBtn\n  }, __jsx(PhotoCameraOutlinedIcon, null), \"More+\")), __jsx(DropzoneDialog, {\n    open: open,\n    onSave: handleSave.bind(this),\n    acceptedFiles: [\"image/*\", \"video/*\"],\n    showPreviews: true,\n    maxFileSize: 50000000,\n    onClose: handleClose.bind(this),\n    className: \"dialogeCustom\"\n  })), __jsx(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    className: classes.Button\n  }, formtype == \"add\" ? \"Add\" : \"Edit\", \" Event\"), showPayButton()), formerrs.length > 0 && formerrs.map(function (msg, index) {\n    return __jsx(Typography, {\n      color: \"error\",\n      key: \"error\".concat(index)\n    }, msg);\n  }))))))));\n}","map":null,"metadata":{},"sourceType":"module"}