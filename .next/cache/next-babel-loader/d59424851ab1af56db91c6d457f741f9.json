{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Box, Button, Container, Grid, Card, CardContent, Typography } from \"@material-ui/core\";\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport PhoneIphoneIcon from \"@material-ui/icons/PhoneIphone\";\nimport SchoolIcon from \"@material-ui/icons/School\";\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ProductCard from \"../ProductCard\";\nimport EventCard from \"../EventCard\";\nimport ResetPassword from \"../ResetPassword\";\nimport { commonStyles, desktopStyles, mobileStyles, TabStyles } from \"./styles\";\nimport { getProducts, getEvents } from \"../../apis/global-api\";\nimport { GetUserFavourite, GetUserRequests } from \"../../apis/auth-api\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Link from \"next/link\";\nimport Accordian from \"../Accordian\";\nimport { useRouter } from \"next/router\";\nimport { unauthenticated } from \"../../redux/actions/auth\"; // import Link from \"@material-ui/core/Link\";\n\nvar useStyles = makeStyles(function (theme) {\n  var _objectSpread2;\n\n  return _objectSpread(_objectSpread({}, commonStyles), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, theme.breakpoints.up(\"sm\"), desktopStyles), _defineProperty(_objectSpread2, theme.breakpoints.between(\"xs\", \"sm\"), TabStyles), _defineProperty(_objectSpread2, theme.breakpoints.down(\"xs\"), mobileStyles), _objectSpread2));\n});\n\nvar sellerProfile = function sellerProfile(_ref) {\n  var user = _ref.user,\n      events = _ref.events,\n      favevents = _ref.favevents,\n      favproducts = _ref.favproducts,\n      resetPwd = _ref.resetPwd,\n      requests = _ref.requests;\n\n  var _useState = useState(),\n      data = _useState[0],\n      setdata = _useState[1];\n\n  var _useState2 = useState(),\n      eventsdata = _useState2[0],\n      seteventsdata = _useState2[1];\n\n  var _useState3 = useState(),\n      faveventsdata = _useState3[0],\n      setfaveventsdata = _useState3[1];\n\n  var _useState4 = useState(),\n      favproductsdata = _useState4[0],\n      setfavproductsdata = _useState4[1];\n\n  var _useState5 = useState(),\n      requestsdata = _useState5[0],\n      setrequestsdata = _useState5[1];\n\n  var auth_user = useSelector(function (state) {\n    return state.auth_user.user;\n  });\n  var router = useRouter();\n  var dispatch = useDispatch();\n  useEffect(function () {\n    fetchData();\n  }, [user]);\n\n  var logout = function logout() {\n    // setAnchorEl(null);\n    router.push(\"/\");\n    dispatch(unauthenticated());\n  };\n\n  var fetchData = function fetchData() {\n    getProducts(\"?seller_id=\".concat(user.id)).then(function (data) {\n      return setdata(data);\n    });\n    events && getEvents(\"?seller_id=\".concat(user.id), true).then(function (data) {\n      return seteventsdata(data);\n    });\n    favevents && GetUserFavourite(user.id, 'event').then(function (data) {\n      return setfaveventsdata(data);\n    });\n    favproducts && GetUserFavourite(user.id, 'product').then(function (data) {\n      return setfavproductsdata(data);\n    });\n    requests && GetUserRequests(user.id).then(function (data) {\n      return setrequestsdata(data);\n    });\n  };\n\n  var classes = useStyles();\n  var isAuthUser = auth_user.id && user.id == auth_user.id;\n  console.log('faveventsdata', faveventsdata);\n  console.log('favproductsdata', favproductsdata);\n  return __jsx(\"section\", {\n    className: classes.section\n  }, __jsx(Container, {\n    maxWidth: \"xl\"\n  }, __jsx(Grid, {\n    container: true\n  }, __jsx(Grid, {\n    item: true,\n    lg: 12,\n    md: 12,\n    sm: 12,\n    xs: 12\n  }, __jsx(Typography, {\n    className: classes.editTitle,\n    variant: \"h3\"\n  }, user.first_name, \" \", user.last_name)), __jsx(Grid, {\n    item: true,\n    lg: 3,\n    md: 3,\n    sm: 12,\n    xs: 12\n  }, __jsx(Box, {\n    className: classes.ProfileContainer\n  }, __jsx(\"div\", {\n    className: classes.ProfileImage\n  }, __jsx(\"img\", {\n    src: user.profile_img ? user.profile_img : \"/static/images/placeholder.jpg\"\n  })), __jsx(\"div\", {\n    className: classes.ProfileDetails\n  }, __jsx(Typography, {\n    variant: \"h6\"\n  }, __jsx(PersonIcon, null), user.first_name, \" \", user.last_name), __jsx(Typography, {\n    variant: \"h6\"\n  }, __jsx(SchoolIcon, null), user.university ? user.university.name : \"\"), __jsx(Typography, {\n    variant: \"h6\"\n  }, __jsx(EditIcon, null), __jsx(Link, {\n    variant: \"contained\",\n    className: classes.Button,\n    href: \"/profile/edit\"\n  }, \"Edit Profile\")), __jsx(Typography, {\n    variant: \"h6\"\n  }, __jsx(ExitToAppIcon, null), __jsx(\"span\", {\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: logout\n  }, \"Logout\"))))), events && __jsx(Grid, {\n    item: true,\n    lg: 9,\n    md: 9,\n    sm: 12,\n    xs: 12\n  }, __jsx(Card, {\n    className: classes.card\n  }, __jsx(CardContent, {\n    className: classes.cardBody\n  }, __jsx(Box, {\n    className: classes.productsHeader\n  }, __jsx(Typography, {\n    variant: \"h5\"\n  }, \"Published Events\")), __jsx(Box, {\n    className: classes.ProductsGridWrapper\n  }, eventsdata && eventsdata.data.length > 0 && eventsdata.data.map(function (data) {\n    return __jsx(\"div\", {\n      key: data.id\n    }, __jsx(EventCard, {\n      data: data,\n      isAuthUser: isAuthUser,\n      showState: false\n    }));\n  })), eventsdata && eventsdata.data.length == 0 && __jsx(\"div\", {\n    className: classes.Noads\n  }, __jsx(Typography, {\n    variant: \"h5\"\n  }, \"There are No Events to show\"), __jsx(\"a\", {\n    href: \"/post/event\",\n    title: \"Add Product\"\n  }, __jsx(\"img\", {\n    src: \"/static/images/addfile.svg\"\n  })))))), favevents && __jsx(Grid, {\n    item: true,\n    lg: 9,\n    md: 9,\n    sm: 12,\n    xs: 12\n  }, __jsx(Card, {\n    className: classes.card\n  }, __jsx(CardContent, {\n    className: classes.cardBody\n  }, __jsx(Box, {\n    className: classes.productsHeader\n  }, __jsx(Typography, {\n    variant: \"h5\"\n  }, \"Favourite Events\")), __jsx(Box, {\n    className: classes.ProductsGridWrapper\n  }, faveventsdata && faveventsdata.data.length > 0 && faveventsdata.data.map(function (data) {\n    return __jsx(\"div\", {\n      key: data.id\n    }, __jsx(EventCard, {\n      data: data.event,\n      isAuthUser: false,\n      showState: false\n    }));\n  }))))), favproducts && __jsx(Grid, {\n    item: true,\n    lg: 9,\n    md: 9,\n    sm: 12,\n    xs: 12\n  }, __jsx(Card, {\n    className: classes.card\n  }, __jsx(CardContent, {\n    className: classes.cardBody\n  }, __jsx(Box, {\n    className: classes.productsHeader\n  }, __jsx(Typography, {\n    variant: \"h5\"\n  }, \"Favourite Products\")), __jsx(Box, {\n    className: classes.ProductsGridWrapper\n  }, favproductsdata && favproductsdata.data.length > 0 && favproductsdata.data.map(function (data) {\n    return __jsx(\"div\", {\n      key: data.id\n    }, __jsx(ProductCard, {\n      data: data.product,\n      isAuthUser: false\n    }));\n  })), favproductsdata && favproductsdata.data.length == 0 && __jsx(\"div\", {\n    className: classes.Noads\n  }, __jsx(Typography, {\n    variant: \"h5\"\n  }, \"There are No Favourite Products to show\"), __jsx(\"a\", {\n    href: \"/post\",\n    title: \"Add Product\"\n  }, __jsx(\"img\", {\n    src: \"/static/images/addfile.svg\"\n  })))))), requests && __jsx(Grid, {\n    item: true,\n    lg: 9,\n    md: 9,\n    sm: 12,\n    xs: 12\n  }, __jsx(Card, {\n    className: classes.card\n  }, __jsx(CardContent, {\n    className: classes.cardBody\n  }, __jsx(Box, {\n    className: classes.productsHeader\n  }, __jsx(Typography, {\n    variant: \"h5\"\n  }, \"Published Requests\")), __jsx(Box, {\n    className: classes.ProductsGridWrapper\n  }, requestsdata && requestsdata.data.length > 0 && requestsdata.data.map(function (data) {\n    return __jsx(\"div\", {\n      key: data.id\n    }, __jsx(Accordian, {\n      data: data,\n      isAuthUser: true\n    }));\n  })), requestsdata && requestsdata.data.length == 0 && __jsx(\"div\", {\n    className: classes.Noads\n  }, __jsx(Typography, {\n    variant: \"h5\"\n  }, \"There are No Requests to show\"), __jsx(\"a\", {\n    href: \"/post/request\",\n    title: \"Add Product\"\n  }, __jsx(\"img\", {\n    src: \"/static/images/addfile.svg\"\n  })))))), resetPwd && __jsx(Grid, {\n    item: true,\n    lg: 9,\n    md: 9,\n    sm: 12,\n    xs: 12\n  }, __jsx(Card, {\n    className: classes.card\n  }, __jsx(ResetPassword, {\n    user: user\n  }))), !events && !favevents && !favproducts && !resetPwd && !requests && __jsx(Grid, {\n    item: true,\n    lg: 9,\n    md: 9,\n    sm: 12,\n    xs: 12\n  }, __jsx(Card, {\n    className: classes.card\n  }, __jsx(CardContent, {\n    className: classes.cardBody\n  }, __jsx(Box, {\n    className: classes.productsHeader\n  }, __jsx(Typography, {\n    variant: \"h5\"\n  }, \"Published Ads\")), __jsx(Box, {\n    className: classes.ProductsGridWrapper\n  }, data && data.data.length > 0 && data.data.map(function (data) {\n    return __jsx(\"div\", {\n      key: data.id\n    }, __jsx(ProductCard, {\n      data: data,\n      isAuthUser: isAuthUser\n    }));\n  })), data && data.data.length == 0 && __jsx(\"div\", {\n    className: classes.Noads\n  }, __jsx(Typography, {\n    variant: \"h5\"\n  }, \"There are No ads to show\"), __jsx(\"a\", {\n    href: \"/post\",\n    title: \"Add Product\"\n  }, __jsx(\"img\", {\n    src: \"/static/images/addfile.svg\"\n  })))))))));\n};\n\nexport default sellerProfile;","map":null,"metadata":{},"sourceType":"module"}