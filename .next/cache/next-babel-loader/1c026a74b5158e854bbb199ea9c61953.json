{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport axios from \"axios\";\n\nvar paymentHandler = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n    var API_URL, orderUrl, response, data, options, rzp1;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            API_URL = process.env.APP_URL;\n            e.preventDefault();\n            orderUrl = \"\".concat(API_URL, \"order/1000/rec123\");\n            _context2.next = 5;\n            return axios.get(orderUrl);\n\n          case 5:\n            response = _context2.sent;\n            console.log(\"response zp\", response);\n            data = response.data;\n            options = {\n              key: process.env.RAZOR_PAY_KEY_ID,\n              name: \"Your App Name\",\n              description: \"Some Description\",\n              order_id: data.id,\n              handler: function () {\n                var _handler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(response) {\n                  var paymentId, url, captureResponse;\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.prev = 0;\n                          paymentId = response.razorpay_payment_id;\n                          url = \"\".concat(API_URL, \"capture/\").concat(paymentId, \"/1000\");\n                          _context.next = 5;\n                          return axios.post(url, {});\n\n                        case 5:\n                          captureResponse = _context.sent;\n                          console.log(captureResponse.data);\n                          _context.next = 12;\n                          break;\n\n                        case 9:\n                          _context.prev = 9;\n                          _context.t0 = _context[\"catch\"](0);\n                          console.log(_context.t0);\n\n                        case 12:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee, null, [[0, 9]]);\n                }));\n\n                function handler(_x2) {\n                  return _handler.apply(this, arguments);\n                }\n\n                return handler;\n              }(),\n              theme: {\n                color: \"#686CFD\"\n              }\n            };\n            console.log(options);\n            rzp1 = new window.Razorpay(options);\n            rzp1.open();\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function paymentHandler(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar TestPayPage = function TestPayPage() {\n  return __jsx(\"div\", null, \"GOOGLE_CLIENT_ID \", process.env.GOOGLE_CLIENT_ID, __jsx(\"br\", null), \"RAZOR_PAY_KEY_ID \", process.env.RAZOR_PAY_KEY_ID, __jsx(\"br\", null), \"RAZOR_PAY_KEY_SECRET \", process.env.RAZOR_PAY_KEY_SECRET, __jsx(\"br\", null), \"APP_URL \", process.env.APP_URL, __jsx(\"br\", null), __jsx(\"button\", {\n    onClick: paymentHandler\n  }, \"Pay Now\"));\n};\n\nexport default TestPayPage;","map":null,"metadata":{},"sourceType":"module"}