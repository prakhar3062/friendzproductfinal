{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Button, Container, Grid, Typography } from '@material-ui/core';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { useRouter } from 'next/router';\nimport { DeleteRequest } from '../../apis/auth-api';\n\nfunction Alert(props) {\n  return __jsx(MuiAlert, _extends({\n    elevation: 6,\n    variant: \"filled\"\n  }, props));\n}\n\nconst useStyles = makeStyles(theme => ({\n  Accordian: {\n    boxShadow: 'none',\n    border: 'none',\n    marginBottom: '0.5rem',\n    position: 'relative',\n    '&::after': {\n      position: 'absolute',\n      width: '100%',\n      height: '1px',\n      background: '#d2d2d2',\n      bottom: '-0.2rem',\n      left: 0,\n      content: '\"\"'\n    },\n    '& .MuiAccordionSummary-content.Mui-expanded': {\n      marginBottom: '0'\n    },\n    '& button': {\n      border: 'solid 1px var(--theme)'\n    }\n  },\n  Flex: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n    [theme.breakpoints.down('sm')]: {\n      //   flexDirection: \"column\",\n      alignItems: 'flex-start'\n    }\n  },\n  heading: {\n    fontSize: '1.2rem',\n    [theme.breakpoints.down('sm')]: {\n      fontSize: '1rem'\n    }\n  },\n  desc: {\n    marginBottom: '0.5rem',\n    [theme.breakpoints.down('sm')]: {\n      fontSize: '0.9rem'\n    }\n  },\n  collegeName: {\n    color: '#6d6d6d',\n    fontStyle: 'italic',\n    fontSize: '0.91rem',\n    [theme.breakpoints.down('sm')]: {\n      fontSize: '0.8rem'\n    }\n  },\n  Details: {\n    display: 'grid'\n  }\n}));\nexport default function Accordian({\n  data,\n  isAuthUser\n}) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [snackbar, setsnackbar] = React.useState(false);\n  const [snackbarMsg, setsnackbarMsg] = React.useState('');\n  const [snackbarType, setsnackbarType] = React.useState('success');\n\n  const handleChange = panel => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const router = useRouter();\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleEdit = () => {\n    router.push('/post/request/edit/' + data.id);\n  };\n\n  const handleDelete = () => {\n    DeleteRequest(data, data.id).then(response => {\n      if (response.error) {\n        setsnackbar(true);\n        setsnackbarMsg('There is some error.Please try again later');\n        setsnackbarType('error');\n      } else {\n        setsnackbar(true);\n        setsnackbarMsg('Deleted');\n        setsnackbarType('success');\n        location.reload();\n      }\n    });\n  };\n\n  const handlesnackbar = () => {\n    setsnackbar(!snackbar);\n  };\n\n  const gotoChat = () => {\n    console.log('clicked');\n    router.push('/chat/request/' + data.id);\n  };\n\n  return __jsx(Accordion, {\n    className: classes.Accordian\n  }, __jsx(AccordionSummary, {\n    \"aria-controls\": \"panel1a-content\",\n    id: \"panel1a-header\" // expandIcon={<ExpandMoreIcon />}\n\n  }, __jsx(\"div\", {\n    className: classes.Flex\n  }, __jsx(Snackbar, {\n    open: snackbar,\n    autoHideDuration: 6000,\n    onClose: handlesnackbar\n  }, __jsx(Alert, {\n    onClose: handlesnackbar,\n    severity: snackbarType\n  }, snackbarMsg)), __jsx(Typography, {\n    variant: \"h6\",\n    className: classes.heading\n  }, data.title), !isAuthUser && __jsx(Button, {\n    color: \"primary\",\n    onClick: gotoChat\n  }, \"Chat\"), isAuthUser && __jsx(\"div\", null, __jsx(MoreVertIcon, {\n    \"aria-controls\": \"simple-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleClick\n  }), __jsx(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose\n  }, __jsx(MenuItem, {\n    onClick: handleEdit\n  }, \"Edit\"), __jsx(MenuItem, {\n    onClick: handleDelete\n  }, \"Delete\"))))), __jsx(AccordionDetails, {\n    className: classes.Details\n  }, __jsx(Typography, {\n    className: classes.desc\n  }, data.description), __jsx(Typography, {\n    className: classes.collegeName\n  }, data.university.name)));\n}","map":null,"metadata":{},"sourceType":"module"}