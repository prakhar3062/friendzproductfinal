{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Layout from \"./../../src/Layout\";\nimport Accordian from \"./../../src/components/Accordian\";\nimport { Backdrop, Box, Button, Container, Grid, Typography } from \"@material-ui/core\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport StickyBox from \"react-sticky-box\";\nimport { commonStyles, desktopStyles, mobileStyles, TabStyles } from \"../src/styles\";\nimport { getAllBuyRequests } from \"./../../src/apis/global-api\";\nimport { useSelector } from \"react-redux\";\nimport Router from \"next/router\";\nimport Sidebar from \"//../../src/components/Sidebar\";\n\nBuyRequest.getInitialProps = function (_ref) {\n  var query = _ref.query;\n  return {\n    query: query\n  };\n};\n\nvar useStyles = makeStyles(function (theme) {\n  var _objectSpread2;\n\n  return _objectSpread(_objectSpread({\n    root: {\n      width: \"100%\",\n      marginTop: '1.5rem'\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      flexBasis: \"33.33%\",\n      flexShrink: 0\n    },\n    secondaryHeading: {\n      fontSize: theme.typography.pxToRem(15),\n      color: theme.palette.text.secondary\n    }\n  }, commonStyles), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, theme.breakpoints.up(\"md\"), desktopStyles), _defineProperty(_objectSpread2, theme.breakpoints.between(\"sm\", \"md\"), TabStyles), _defineProperty(_objectSpread2, theme.breakpoints.down(\"sm\"), mobileStyles), _objectSpread2));\n});\nexport default function BuyRequest(_ref2) {\n  _s();\n\n  var query = _ref2.query;\n  var user = useSelector(function (state) {\n    return state.auth_user.user;\n  });\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      expanded = _useState[0],\n      setExpanded = _useState[1];\n\n  var _useState2 = useState({}),\n      requests = _useState2[0],\n      setrequests = _useState2[1];\n\n  var _useState3 = useState(false),\n      loadMore = _useState3[0],\n      setloadMore = _useState3[1];\n\n  var _useState4 = useState(false),\n      lastPage = _useState4[0],\n      setlastPage = _useState4[1];\n\n  var _useState5 = useState(0),\n      page = _useState5[0],\n      setpage = _useState5[1];\n\n  var _useState6 = useState(true),\n      loading = _useState6[0],\n      setloading = _useState6[1];\n\n  useEffect(function () {\n    // const { m_uni } = query;\n    // console.log(\"queryrequest\", m_uni);\n    // if (m_uni) {\n    //   setselectedUni(m_uni);\n    // }\n    getProductRequest();\n  }, [query]);\n\n  var handleAddProduct = function handleAddProduct() {\n    if (user.id) {\n      Router.push(\"/post/request\");\n    } else {\n      window.location.replace(\"/?signup=open\");\n    }\n  };\n\n  var getProductRequest = function getProductRequest(page) {\n    page = !page ? 1 : page + 1;\n    setpage(page);\n    var url = \"&page=\".concat(page);\n    var m_uni = query.m_uni;\n\n    if (m_uni) {\n      url = url + \"&m_uni=\" + m_uni;\n    }\n\n    console.log(\"queryrequesturl\", url);\n    getAllBuyRequests(url).then(function (data) {\n      setloading(false);\n\n      if (requests && requests.data) {\n        data.data = requests.data.concat(data.data);\n      }\n\n      if (data) {\n        setrequests(data);\n      }\n\n      if (data && data.current_page == data.last_page) {\n        setlastPage(true);\n      }\n\n      setloadMore(false); // setrequests(data)\n      // if (data && data.current_page == data.last_page) {\n      //   setlastPage(true);\n      // } else {\n      //   setlastPage(false);\n      // }\n    });\n  };\n\n  var handleButtonClick = function handleButtonClick() {\n    if (!loadMore) {\n      setloadMore(true);\n      getProductRequest(page); // timer.current = setTimeout(() => {\n      //   setLoading(false);\n      // }, 2000);\n    }\n  };\n\n  var handleChange = function handleChange(panel) {\n    return function (event, isExpanded) {\n      setExpanded(isExpanded ? panel : false);\n    };\n  };\n\n  return __jsx(Layout, null, __jsx(\"section\", {\n    className: classes.section\n  }, __jsx(Container, {\n    maxWidth: \"xl\"\n  }, __jsx(Grid, {\n    container: true\n  }, __jsx(Grid, {\n    item: true,\n    lg: 12,\n    md: 12,\n    sm: 12,\n    xs: 12\n  }, __jsx(Box, {\n    className: classes.productsHeader\n  }, __jsx(Typography, {\n    variant: \"h3\"\n  }, \"Buy Requests\"), __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleAddProduct\n  }, \"Add Request\"))), __jsx(Grid, {\n    item: true,\n    lg: 3,\n    md: 3,\n    sm: 12,\n    xs: 12\n  }, __jsx(StickyBox, {\n    offsetTop: 100,\n    offsetBottom: 20\n  }, __jsx(Sidebar, {\n    type: \"requests\",\n    query: query\n  }))), __jsx(Grid, {\n    item: true,\n    lg: 9,\n    md: 9,\n    sm: 12,\n    xs: 12\n  }, __jsx(Box, null, loading && __jsx(Backdrop, {\n    className: classes.backdrop,\n    open: loading // onClick={handleClose}\n\n  }, __jsx(CircularProgress, {\n    color: \"inherit\"\n  })), __jsx(\"div\", {\n    className: classes.root\n  }, requests && requests.data && requests.data.length > 0 && requests.data.map(function (data) {\n    return __jsx(Accordian, {\n      data: data,\n      isAuthUser: data.user_id == user.id,\n      key: data.id\n    });\n  })), requests.data && requests.data.length <= 0 && __jsx(Typography, {\n    variant: \"h4\"\n  }, \"No product request for now\")), requests.data && requests.data.length > 0 && !lastPage && __jsx(\"div\", {\n    className: classes.loadMorewrapper\n  }, __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.loadMore,\n    disabled: loadMore,\n    onClick: handleButtonClick\n  }, \"Load More\"), loadMore && __jsx(CircularProgress, {\n    size: 24,\n    className: classes.buttonProgress\n  })))))));\n}\n\n_s(BuyRequest, \"Q9+yZBb6PJrTWYnPVfH4QVY2VWk=\", false, function () {\n  return [useSelector, useStyles];\n});\n\n_c = BuyRequest;\n\nvar _c;\n\n$RefreshReg$(_c, \"BuyRequest\");","map":{"version":3,"sources":["E:/jay/frontend/src/pages/buy-request.js"],"names":["React","useEffect","useState","makeStyles","Layout","Accordian","Backdrop","Box","Button","Container","Grid","Typography","CircularProgress","StickyBox","commonStyles","desktopStyles","mobileStyles","TabStyles","getAllBuyRequests","useSelector","Router","Sidebar","BuyRequest","getInitialProps","query","useStyles","theme","root","width","marginTop","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","color","palette","text","secondary","breakpoints","up","between","down","user","state","auth_user","classes","expanded","setExpanded","requests","setrequests","loadMore","setloadMore","lastPage","setlastPage","page","setpage","loading","setloading","getProductRequest","handleAddProduct","id","push","window","location","replace","url","m_uni","console","log","then","data","concat","current_page","last_page","handleButtonClick","handleChange","panel","event","isExpanded","section","productsHeader","backdrop","length","map","user_id","loadMorewrapper","buttonProgress"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Layout from \"./../../src/Layout\";\nimport Accordian from \"./../../src/components/Accordian\";\nimport { Backdrop, Box, Button, Container, Grid, Typography } from \"@material-ui/core\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport StickyBox from \"react-sticky-box\";\n\n\nimport {\n  commonStyles,\n  desktopStyles,\n  mobileStyles,\n  TabStyles,\n} from \"../src/styles\";\nimport { getAllBuyRequests } from \"./../../src/apis/global-api\";\nimport { useSelector } from \"react-redux\";\nimport Router from \"next/router\";\nimport Sidebar from \"//../../src/components/Sidebar\";\nBuyRequest.getInitialProps = ({ query }) => {\n  return { query };\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    marginTop: '1.5rem'\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: \"33.33%\",\n    flexShrink: 0,\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary,\n  },\n  ...commonStyles,\n  [theme.breakpoints.up(\"md\")]: desktopStyles,\n  [theme.breakpoints.between(\"sm\", \"md\")]: TabStyles,\n  [theme.breakpoints.down(\"sm\")]: mobileStyles,\n}));\n\nexport default function BuyRequest({ query }) {\n  const user = useSelector((state) => state.auth_user.user);\n\n  const classes = useStyles();\n  const [expanded, setExpanded] = useState(false);\n  const [requests, setrequests] = useState({});\n  const [loadMore, setloadMore] = useState(false);\n  const [lastPage, setlastPage] = useState(false);\n  const [page, setpage] = useState(0);\n  const [loading, setloading] = useState(true);\n\n  useEffect(() => {\n    // const { m_uni } = query;\n    // console.log(\"queryrequest\", m_uni);\n    // if (m_uni) {\n    //   setselectedUni(m_uni);\n\n    // }\n    getProductRequest();\n  }, [query]);\n\n  const handleAddProduct = () => {\n    if (user.id) {\n      Router.push(\"/post/request\");\n    } else {\n      window.location.replace(\"/?signup=open\");\n    }\n  };\n\n  const getProductRequest = (page) => {\n    page = !page ? 1 : page + 1;\n    setpage(page);\n    let url = `&page=${page}`;\n\n    const { m_uni } = query;\n\n    if (m_uni) {\n      url = url + \"&m_uni=\" + m_uni;\n    }\n\n    console.log(\"queryrequesturl\", url);\n\n    getAllBuyRequests(url).then((data) => {\n      setloading(false);\n      if (requests && requests.data) {\n        data.data = requests.data.concat(data.data);\n      }\n      if (data) {\n        setrequests(data);\n      }\n      if (data && data.current_page == data.last_page) {\n        setlastPage(true);\n      }\n      setloadMore(false);\n      // setrequests(data)\n      // if (data && data.current_page == data.last_page) {\n      //   setlastPage(true);\n      // } else {\n      //   setlastPage(false);\n      // }\n    });\n  };\n\n  const handleButtonClick = () => {\n    if (!loadMore) {\n      setloadMore(true);\n      getProductRequest(page);\n      // timer.current = setTimeout(() => {\n      //   setLoading(false);\n      // }, 2000);\n    }\n  };\n\n  const handleChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  return (\n    <Layout>\n      <section className={classes.section}>\n        <Container maxWidth=\"xl\">\n          <Grid container>\n            <Grid item lg={12} md={12} sm={12} xs={12}>\n              <Box className={classes.productsHeader}>\n                <Typography variant=\"h3\">Buy Requests</Typography>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleAddProduct}\n                >\n                  Add Request\n                </Button>\n              </Box>\n            </Grid>\n            <Grid item lg={3} md={3} sm={12} xs={12}>\n              <StickyBox offsetTop={100} offsetBottom={20}>\n                <Sidebar type=\"requests\" query={query} />\n              </StickyBox>\n            </Grid>\n            <Grid item lg={9} md={9} sm={12} xs={12}>\n              <Box>\n                {loading && (\n                  <Backdrop\n                    className={classes.backdrop}\n                    open={loading}\n                    // onClick={handleClose}\n                  >\n                    <CircularProgress color=\"inherit\" />\n                  </Backdrop>\n                )}\n                <div className={classes.root}>\n                  {requests &&\n                    requests.data &&\n                    requests.data.length > 0 &&\n                    requests.data.map((data) => (\n                      <Accordian\n                        data={data}\n                        isAuthUser={data.user_id == user.id}\n                        key={data.id}\n                      />\n                    ))}\n                  {/* <Accordian />\n                  \n                  <Accordian /> */}\n                </div>\n\n                { requests.data &&  requests.data.length <= 0 && (\n                  <Typography variant=\"h4\">\n                    No product request for now\n                  </Typography>\n                )}\n              </Box>\n\n              {requests.data && requests.data.length > 0 && !lastPage && (\n                <div className={classes.loadMorewrapper}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.loadMore}\n                    disabled={loadMore}\n                    onClick={handleButtonClick}\n                  >\n                    Load More\n                  </Button>\n                  {loadMore && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </div>\n              )}\n            </Grid>\n          </Grid>\n        </Container>\n      </section>\n    </Layout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}